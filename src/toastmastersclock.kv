#:import get_color kivy.utils.get_color_from_hex

<InterfaceWithSidebar>:
	canvas.before:
        Color:
            rgba: 1,1,1,1
        Rectangle:
            pos: self.pos
            size: self.size

<SettingColorPicker>:
    Label:
        color: get_color(root.value) if root.value else (1,1,1,1.)
        text: root.value or ''

<Label>:
    font_size: 40
    color: 0,0,0,1
    markup: True

<Button>:
	background_color: (0.8,1,1,1)
	canvas.after:
        Color:
            rgb: 0,0,0
        Line:
            rectangle: self.x+1,self.y+1,self.width-1,self.height-1

<ClockLabel@Label>:
    font_size: 30
	text: '00:00:00'

<TimerLabel@Label>:
    font_size: 60
	text: '[b]00:00.[size=40]00[/size][/b]'

<RootWidget>:
    canvas.before:
        Color:
            rgba: app.background
        Rectangle:
            pos: self.pos
            size: self.size

	BoxLayout:
	    orientation: 'vertical'

		BoxLayout:
	        orientation: 'horizontal'
	        size_hint_y: 0.3

			Spinner:
				id: category
				size_hint_x: 0.3
		        text: '< Select >'
		        values: app.categoryValues
			    on_text: app.category_changed(category.text)

			Spinner:
				id: speechName
				size_hint_x: 0.7
		        text: '< Select >'
		        values: app.speechNameValues

	    ClockLabel:
	        id: time

	    BoxLayout:
	        height: 90
	        orientation: 'horizontal'
	        padding: 20
	        spacing: 20
	        size_hint: (1, None)

	        Button:
	            id: start_stop
	            background_color: (1,0.3,0.3,1) if app.sw_started else (0.3,1,0.3,1)
                background_normal: ""
                #background_down: "" #optional if you want your color pressed
	            text: 'Start'
	            on_press: app.start_stop()

	        Button:
	            id: reset
	            text: 'Reset'
	            on_press: app.reset()

	    TimerLabel:
	        id: stopwatch

	    BoxLayout:
	        orientation: 'horizontal'

			Button:
	            size_hint_y: 0.3
	            text: 'Config'
                on_press: app.open_settings()

	        Label:
				size_hint: 0.2, 0.3

			Button:
	            size_hint_y: 0.3
	            font_size: 20
	            text: 'Stop Session' if app.sess_started else 'Start Session'
                on_press: app.session_change()

			Label:
				size_hint: 0.2, 0.3

            Button:
	            size_hint_y: 0.3
	            font_size: 20
	            text: 'Sess. results ({})'.format(len(app.sessTimes))
	            disabled: True if not app.sessTimes else False
                on_press: app.session_show()

			Label:
				size_hint: 0.2, 0.3

	        Button:
	            size_hint_y: 0.3
	            text: 'Exit'
                on_press: app.do_quit()

<sessionResults>:
    orientation: 'vertical'
    canvas.before:
        Color:
            rgba: 1,1,1,1
        Rectangle:
            pos: self.pos
            size: self.size


    Label:
        text: "You pressed the button"

    RV:
        id: session_rv
        size_hint_y: 2
        viewclass: 'Label'

        RecycleBoxLayout:
            default_size: None, dp(56)
            default_size_hint: 1, 2
            size_hint_y: 2
            height: self.minimum_height
            orientation: 'vertical'

    Button:
        text: "Close Results"
        on_press: app.close_results()
